<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <img class="navbar-brand" src="../../assets/images/blue.png"/>
    <button class="navbar-toggler" type="button" data-toggle="collapse"  data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
      <div class="form-inline">
        <ul class="">
          <li class="task-button">
            <div *ngIf="!userInfo; else TaskButton" class="">
              <button class="btn btn-outline-success " disabled title="Sign up or Singin to add a task"  data-toggle="modal" data-target="#taskmodal" >Add a Task</button>
            </div>
            <ng-template  #TaskButton>
              <p>Hello</p>
              <button class="btn btn-outline-success my-2 my-sm-0"  data-toggle="modal" data-target="#taskmodal" >Add a Task</button>
            </ng-template>
          </li>
        </ul>
      </div>




      <ul *ngIf="!userInfo; else welcomeTemplate" class="">
        <button class="btn btn-outline-success"  data-toggle="modal" data-target="#signupmodal">Sign Up</button>
        <button class="btn btn-outline-success" data-toggle="modal" data-target="#signinmodal">Sign In</button>
      </ul>

      <ng-template #welcomeTemplate>
        <p id="welcomeMessage">Welcome! You are now connected. </p>
        <li><button class="btn btn-outline-danger" (click)="signOut()">Sign Out</button></li>
      </ng-template>
    
   </div>
  </nav>


  <div class="modal fade" id="signupmodal" tabindex="-1" role="dialog" aria-labelledby="signupmodal" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="signupmodaltitle">Sign Up</h3>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
  
        <form action=""  [formGroup]="registerForm" (ngSubmit)="subscribe()">
          <div class="modal-body">
            <app-input [control]="name"  type="text" placeholder="enter Your name"></app-input>
            <app-input [control]="email" type="email" placeholder="enter Your email"></app-input>
            <app-input [control]="password" type="password" placeholder="enter Your password"></app-input>
          </div>
          <p class="text-center" id="signupResponse"></p>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Close</button>
            <button  type="submit" class="btn btn-outline-success">Sign Up</button>
          </div>
        </form>
        
      </div>
    </div>
  </div>



  
  <div class="modal fade" id="signinmodal" tabindex="-1" role="dialog" aria-labelledby="signinmodal" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="signinmodaltitle">Sign In</h3>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form action="" [formGroup]="loginForm" (ngSubmit)="login()">
          <div class="modal-body">
            <app-input [control]="emailLogin" type="text" placeholder="enter Your email"></app-input>
            <app-input [control]="passwordLogin" type="password" placeholder="enter Your password"></app-input>
          </div>
          <p class="text-center" id="signinResponse"></p>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Close</button>
            <button  type="submit" class="btn btn-outline-success">Sign In</button>
          </div>
        </form>
        
      </div>
    </div>
  </div>


  <div class="modal fade" id="taskmodal" tabindex="-1" role="dialog" aria-labelledby="taskmodal" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="taskmodaltitle">Add a task</h3>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
     
        <form action="" [formGroup]="taskForm" (ngSubmit)="addTask()">
          <div class="modal-body">
            <app-input [control]="title" type="text" placeholder="enter the title of the task"></app-input>
            <app-input [control]="category" type="text" placeholder="enter the category of the task"></app-input>
            <textarea id="textarea" placeholder="enter the description of the task"></textarea>
          </div>
          <p class="text-center" id="taskResponse"></p>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Close</button>
            <button  type="submit" class="btn btn-outline-success">Add the task</button>
          </div>
        </form>
        
      </div>
    </div>
  </div>